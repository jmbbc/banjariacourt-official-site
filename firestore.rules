rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // Public read for content and reports
    match /content/{section} {
      allow read: if true;
      // Restrict writes to admin UIDs only (safer than email checks)
      allow write: if request.auth != null && request.auth.uid in [
        'GVayOFuExfcWiWbWqXagLw0fJVg2',   // admin UID (primary project)
        'QWZC1BoYyHSBoSuVYp3VT5n35223',   // admin UID (agm2)
        '7TwgD2Fu8MR6e8qu7Wp5TUrVbfJ3',   // additional admin UID
        'SmWu2grNVqa2kv2Fp43YWJCmVpr2'    // legacy admin UID
      ];
    }

    // Reports: public read, admin-only writes
    match /reports/{doc} {
      allow read: if true;
      allow write: if request.auth != null && request.auth.uid in [
        'GVayOFuExfcWiWbWqXagLw0fJVg2'
      ];
    }

    // Default: deny everything else
    match /{document=**} {
      allow read, write: if false;
    }
  }
}
